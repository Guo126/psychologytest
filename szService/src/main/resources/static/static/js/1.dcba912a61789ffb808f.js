webpackJsonp([1],{"6v5j":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("a3Yh"),o=i.n(s),n=i("bwXG"),l=(i("8obM"),i("9Y1S")),a=i.n(l),r={data:function(){var e;return e={testId:void 0,num:1,loading:!0,list:[],dialogImageUrl:"",imgVisible:!1,dialogVisible:!1,index:-1,dialogFormVisible:!1,name:"",width:"300px",addScore:0,addDesc:""},o()(e,"imgVisible",!1),o()(e,"dialogImageUrl",""),o()(e,"imgList",[]),o()(e,"lists",[]),o()(e,"uploadVisible",!1),e},created:function(){this.testId=a.a.parse().hash.testId,this.getResponse()},methods:{check:function(e){this.dialogImageUrl=e},getImgList:function(e){var t=this;Object(n.g)(e).then(function(e){e.success&&(t.imgList=e.data)})},imgRoad:function(e){var t=this,i=e.file,s=new FormData;s.append("responseId",this.index),s.append("img",i),Object(n.m)(s).then(function(e){e.success&&(t.$message.success("上传成功！"),location.reload())})},deleteButton:function(e){this.index=e},getResponse:function(){var e=this;Object(n.h)(this.testId).then(function(t){var i=t.data;e.list=i})},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.imgVisible=!0},resetResponse:function(e,t,i){var s=this;Object(n.l)(e,t,i).then(function(e){e.success?s.$message.success("修改成功！"):s.$message.error("修改失败！")})},deleteResponse:function(){var e=this;Object(n.f)(this.index).then(function(t){t.success?(e.$message.success("删除成功！"),location.reload()):e.$message.error("删除失败！")})},addResponse:function(){var e=this;Object(n.c)(this.addDesc,this.testId,this.addScore).then(function(t){t.success?(e.$message.success("添加成功！"),location.reload()):e.$message.error("添加失败！")})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[e._v("            \n    "),i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),i("el-dialog",{attrs:{title:"添加报告",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"最低分数","label-width":"80px"}},[i("el-input",{staticStyle:{width:"80px"},attrs:{"auto-complete":"off"},model:{value:e.addScore,callback:function(t){e.addScore=t},expression:"addScore"}}),e._v("  分\n          ")],1),e._v(" "),i("el-form-item",{attrs:{label:"报告内容","label-width":"80px"}},[i("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:8},model:{value:e.addDesc,callback:function(t){e.addDesc=t},expression:"addDesc"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addResponse()}}},[e._v("确 定")])],1)],1)],1),e._v(" "),i("br"),i("br"),i("br"),e._v(" "),e._l(e.list,function(t,s){return i("el-card",{key:t.responseId,staticStyle:{"background-color":"#E0ECF8","margin-top":"6px"},attrs:{"body-style":{padding:"20px"},method:"getImgList(o.responseId)"}},[i("div",{staticStyle:{padding:"14px"}},[i("span",[e._v("报告ID:  "+e._s(t.responseId))]),e._v("   \n         "),i("span",[e._v("最低分数为 "),i("el-input",{staticStyle:{width:"50px"},model:{value:t.minScore,callback:function(i){e.$set(t,"minScore",i)},expression:"o.minScore"}}),e._v("分")],1),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(i){e.resetResponse(t.responseId,t.minScore,t.responseDesc)}}},[e._v("保存")]),e._v("    \n         "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(i){e.deleteButton(t.responseId),e.dialogVisible=!0}}},[e._v("删除")]),e._v("     \n         "),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v("确认删除吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1,e.deleteResponse()}}},[e._v("确 定")])],1)]),i("br"),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(i){e.deleteButton(t.responseId),e.getImgList(t.responseId),e.uploadVisible=!0}}},[e._v("图片上传")]),e._v("     \n        "),i("el-dialog",{attrs:{"z-index":"2",title:"图片上传",visible:e.uploadVisible,width:"60%",size:"large","before-close":e.handleClose},on:{"update:visible":function(t){e.uploadVisible=t}}},[e._l(e.imgList,function(t){return i("div",{key:t.imgId},[i("img",{staticStyle:{float:"right","margin-left":"20px"},attrs:{width:"140px",height:"140px",src:t.imgUrl},on:{click:function(i){e.imgVisible=!0,e.check(t.imgUrl)}}})])}),e._v(" "),i("div",[i("el-upload",{attrs:{action:"http://101.132.161.199:8848/psycholog/img/","list-type":"picture-card","http-request":e.imgRoad,"show-file-list":!1,"on-preview":e.handlePictureCardPreview}},[i("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),i("br"),e._v(" "),i("el-dialog",{attrs:{"z-index":"10",visible:e.imgVisible,"append-to-body":"true"},on:{"update:visible":function(t){e.imgVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.uploadVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadVisible=!1}}},[e._v("确 定")])],1)],2),e._v(" "),i("br"),i("br"),i("br"),e._v(" "),i("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.responseDesc,callback:function(i){e.$set(t,"responseDesc",i)},expression:"o.responseDesc"}})],1)])})],2)},staticRenderFns:[]};var d=i("vSla")(r,c,!1,function(e){i("F3xx")},null,null);t.default=d.exports},F3xx:function(e,t,i){var s=i("bypb");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i("8bSs")("051f04fa",s,!0)},JhHb:function(e,t,i){i("SAFe");var s=i("AKd3").Object;e.exports=function(e,t,i){return s.defineProperty(e,t,i)}},SAFe:function(e,t,i){var s=i("FITv");s(s.S+s.F*!i("sjnA"),"Object",{defineProperty:i("lIiZ").f})},a3Yh:function(e,t,i){"use strict";t.__esModule=!0;var s,o=i("liLe"),n=(s=o)&&s.__esModule?s:{default:s};t.default=function(e,t,i){return t in e?(0,n.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},bypb:function(e,t,i){(e.exports=i("BkJT")(!1)).push([e.i,'\n.text {\n  font-size: 14px;\n}\n.item {\n  margin-bottom: 18px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: "";\n}\n.clearfix:after {\n  clear: both\n}\n.box-card {\n  width: 480px;\n  margin: 0 auto;\n  margin-top: 10%;\n}\n',""])},liLe:function(e,t,i){e.exports={default:i("JhHb"),__esModule:!0}}});